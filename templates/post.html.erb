<!DOCTYPE html>
<html lang="en-US">
<head>
  <%== File.read('templates/head.html') %>
  <%== render_erb('templates/article-head.html.erb', binding) %>
  <link rel="alternate" type="text/markdown" href="posts/<%= post.filename %>.md">
  <meta property="og:url" content="<%= SITE_ROOT %>/<%= post.url %>" />
  <meta property="article:published_time" content="<%= post.date.iso8601 %>" />
  <meta property="article:modified_time" content="<%= post.date.iso8601 %>" />
  <title><%= post.title %></title>
  <meta property="og:title" content="<%= post.title %>" />
  <meta name="description" content="<%= post.text_descr %>" />
  <meta property="og:description" content="<%= post.text_descr %>" />
  <meta property="og:image" content="<%= SITE_ROOT %>/assets/link_previews/<%= post.filename %>.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="<%= post.title %>" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@pineman_">
  <meta name="twitter:creator" content="@pineman_">
  <meta name="twitter:title" content="<%= post.title %>">
  <meta name="twitter:description" content="<%= post.text_descr %>">
  <meta name="twitter:image" content="<%= SITE_ROOT %>/assets/link_previews/<%= post.filename %>.png">
  <meta name="twitter:image:alt" content="<%= post.title %>">
</head>
<body>
<div id="wrap">
<a href="index.html">&lt; back</a>
<article>
  <header>
    <h1><%= post.title %></h1>
    <h5><time datetime="<%= post.date.iso8601 %>" pubdate="pubdate"><%= post.date.strftime("%Y-%m-%d") %></time></h5>
  </header>
<%== post.html %>
</article>
<a href="index.html">&lt; back</a>
</div>
</body>
<link rel="stylesheet" href="assets/oceanicnext.min.css">
<script src="assets/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('article h1, article h2, article h3, article h4, article h5, article h6').forEach(function(heading) {
      const copyLink = document.createElement('a');
      copyLink.href = '#' + heading.id;
      copyLink.className = 'heading-link';
      copyLink.title = 'Copy link to heading';
      copyLink.onclick = function() {
        const url = window.location.href.split('#')[0] + this.getAttribute('href');
        navigator.clipboard.writeText(url);
      };

      const iconContainer = document.createElement('span');
      iconContainer.className = 'icon-container';
      iconContainer.innerHTML = '<i class="fa-solid fa-link"></i>';

      copyLink.appendChild(iconContainer);
      heading.appendChild(copyLink);
    });
  });
</script>
</html>
